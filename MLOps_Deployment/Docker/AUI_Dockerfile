FROM python:3.10
WORKDIR /app

# Copy requirements first so theyâ€™re cached
COPY src/demo/requirements.txt .

# Install latest Gradio + its client (which bundles the fix),
# then the rest of your deps
RUN pip install --upgrade pip \
 && pip install gradio>=4.65.0 gradio-client>=0.4.4 \
 && pip install -r requirements.txt

COPY src/demo/ .

CMD ["python", "app_ui.py"]
